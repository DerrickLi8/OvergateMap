<!DOCTYPE html>
<html>
   <head>
      <title>OvergateMap</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- Import Bootstrap -->
      <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
 
      <!--[if lt IE 9]>
         <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
         <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->
	   
	<script src="https://cdn-webgl.wrld3d.com/wrldjs/dist/latest/wrld.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.1/leaflet.css" rel="stylesheet" />  
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script src="plotly-latest.min.js"></script>
	<style>
	 body {
            font-family: Arial;
			font-size: 40pt;
        }
		
	div {
		margin-bottom: 50px;
		margin-right: 200px;
		}
		
	</style> 
   </head>
   <body>
   
	<div id="chart"></div>
	
	<script>
	function getData() {
		//funct for ajax call to backend
		return $.ajax({
			url: 'backend_functions.php',
			type: 'POST',
			data: { storeID:1, funct:'storeTrackerTotal', date:"2018-01-01"},
			success: function(result){
				alert(result);
				return result;
			}
		});
			//return Math.random();
	}
	
	Plotly.plot('chart',[{
        y:[getData()],
        type:'line'
	}]);
	
	setInterval(function() {
	var cnt = 0;
   // code for chart update logic here
     Plotly.extendTraces('chart',{ y:[[getData().done]]}, [0]);
   cnt++;
   if(cnt > 500) {
      // code for chart 'sliding' here
	  Plotly.relayout('chart',{
        xaxis: {
                  range: [cnt-500,cnt]
               }
   });
   }
 
	}, 15);

	
	</script>
	
	
	
	
   
	<!-- Tabs at top of the window -->
	<ul class="nav nav-tabs  nav-justified">
      <li class="active"><a data-toggle="tab" href="#stats">Stats</a></li>
      <li><a data-toggle="tab" href="#vis">Visualisation</a></li>
      </ul>
      
	  <!-- Stats -->
      <div class="tab-content"></div>
      <div id="stats" class="tab-pane fade in active">
		<div class="container">
		<p> Current Visitors:</p>
		<p> Population Density: </p>  
		<p> Density Rating: </p>  
		<p> Total Visitors: </p>  
		</div>
	  </div>
		
		
	  <!-- Visualisation -->
      <div class="tab-content"></div>
      <div id="vis" class="tab-pane fade">
	<script>


    </script>
      </div>
	  
   </body>
</html>











